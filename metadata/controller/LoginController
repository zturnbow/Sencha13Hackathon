{
    "type": "Ext.app.Controller",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "models": [
            "User"
        ],
        "designer|userClassName": "LoginController"
    },
    "designerId": "a520ca8e-f72a-45cc-8089-f3241bf019e4",
    "cn": [
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onLogin",
                "implHandler": [
                    "var uname = Ext.ComponentMgr.get(\"loginUsernameField\").getValue();",
                    "var pass = Ext.ComponentMgr.get(\"password\").getValue();",
                    "",
                    "Ext.Ajax.request({",
                    "    url: \"https://\"+settings.server_host+\"/api/login\",",
                    "    method: \"POST\",",
                    "    params: { username: uname, password: pass },",
                    "    success: function(response) {",
                    "        var msg = Ext.JSON.decode(response.responseText);",
                    "        if(msg.authenticated == true){",
                    "            console.log(\"YEEEAAHHH!\");",
                    "            settings.setUsername(uname);",
                    "            var listView = Ext.create(\"app.view.ProjectList\");",
                    "            listView.config.title = \"Project List\";",
                    "            Ext.ComponentMgr.get(\"MainMenuView\").push(listView);",
                    "        }else{",
                    "            Ext.Msg.alert('Login Failure', 'Username or Password Not Found');",
                    "        }",
                    "    }",
                    "});",
                    "",
                    ""
                ],
                "name": "tap",
                "designer|targetType": "Ext.Button",
                "designer|controlQuery": "#loginButton"
            },
            "designerId": "b2b7236a-f4f9-4aff-8c0a-7d19a215e709"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onRegister",
                "implHandler": [
                    "console.log(\"register view!!!\");",
                    "var register = Ext.create(\"app.view.RegisterView\");",
                    "register.config.title=\"Register New User\";",
                    "Ext.ComponentMgr.get(\"MainMenuView\").push(register);"
                ],
                "name": "tap",
                "designer|targetType": "Ext.Button",
                "designer|controlQuery": "#registerNewUserButton"
            },
            "designerId": "0c3d3c8b-d02d-43f2-ae03-d01b6ad16693"
        }
    ]
}